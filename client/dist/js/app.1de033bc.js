(function(e){function t(t){for(var a,r,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],a=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(a=!1)}a&&(n.splice(t--,1),e=r(r.s=i[0]))}return e}var a={},s={app:0},n=[];function r(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=a,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"111b":function(e,t,i){"use strict";i("4c6c")},3273:function(e,t,i){},"379a":function(e,t,i){"use strict";i("d02e")},4012:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("div",{staticClass:"d-flex ma-2 mb-4"},[i("div",{staticClass:"text-h5"},[e._v("Upload New Media")]),i("v-spacer"),i("v-btn",{attrs:{text:"",color:"error",disabled:!e.files.length||e.uploading},on:{click:function(t){e.files=[]}}},[e._v(" Delete ")]),i("v-btn",{attrs:{text:"",color:"primary",disabled:!e.files.length||e.uploading},on:{click:e.uploadFiles}},[e._v(" Upload ")])],1),i("drop-zone",{attrs:{files:e.files,progress:e.progress,errors:e.errors,setError:e.setError,setProgress:e.setProgress}}),i("upload-grid-view",{attrs:{medias:e.files,onRemoveFile:e.onRemoveFile,progress:e.progress,errors:e.errors}})],1)},s=[],n=i("ade3"),r=i("5530"),o=(i("4de4"),i("159b"),i("d3b7"),i("bc3a")),l=i.n(o),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ma-2"},[i("div",{ref:"dropzone",class:["dropzone mb-2",{"dropzone-active":e.dropzoneActive}]},[i("div",{staticClass:"text-body-1"},[e._v("Drop files to upload")]),i("div",{staticClass:"text-body-2"},[e._v("or")]),i("div",{staticClass:"fileinput my-2"},[i("label",{attrs:{for:"files"}},[e._v("Select Files")]),i("input",{attrs:{accept:e.MIME_TYPES.join(","),type:"file",name:"files",id:"files",multiple:""},on:{change:e.onFileChange}})]),i("div",{staticClass:"text-body-2"},[e._v("Maximum upload file size: "+e._s(e.MAX_FILE_SIZE)+" MB.")])])])},d=[],u=(i("caad"),i("2532"),i("1276"),i("ac1f"),i("9612")),m=i("b05c"),p={name:"DropZone",props:["files","progress","setProgress","setError","errors"],components:{},data:function(){return{MIME_TYPES:[],MAX_FILE_SIZE:0,dropzoneActive:!1}},methods:{onFileChange:function(e){var t=this;e.target.files.forEach((function(e){t.addFile(e)})),e.target.value=""},addFile:function(e){var t=this,i=u["a"].v4();if(e.id=i,e.allowed=!0,e.sizelimit=!1,this.setProgress(Object(r["a"])(Object(r["a"])({},this.progress),{},Object(n["a"])({},i,0))),this.setError(Object(r["a"])(Object(r["a"])({},this.errors),{},Object(n["a"])({},i,!1))),e.size>1024*m["MAX_FILE_SIZE"]*1024&&(e.sizelimit=!0),m["MIME_TYPES"].includes(e.type))if("image"===e.type.split("/")[0]){var a=new FileReader;a.onload=function(i){e.src=i.target.result,t.files.unshift(e)},a.readAsDataURL(e)}else this.files.unshift(e);else e.allowed=!1,this.files.unshift(e)}},created:function(){this.MIME_TYPES=m["MIME_TYPES"],this.MAX_FILE_SIZE=m["MAX_FILE_SIZE"]},mounted:function(){["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(function(e){this.$refs.dropzone.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation()}.bind(this),!1)}.bind(this));var e=0;this.$refs.dropzone.addEventListener("dragenter",function(t){e++,this.dropzoneActive=!0}.bind(this)),this.$refs.dropzone.addEventListener("dragleave",function(t){e--,0===e&&(this.dropzoneActive=!1)}.bind(this)),this.$refs.dropzone.addEventListener("drop",function(e){var t=this;this.dropzoneActive=!1,e.dataTransfer.files.forEach((function(e){t.addFile(e)}))}.bind(this))}},g=p,f=(i("65b3"),i("2877")),v=Object(f["a"])(g,c,d,!1,null,"ba57bd70",null),h=v.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{attrs:{"no-gutters":""}},e._l(e.medias,(function(t,a){return i("v-col",{key:a,staticClass:"d-flex child-flex pa-2",attrs:{sm:"4",md:"3",xl:"2"}},[i("div",{staticClass:"cursor"},[i("div",{staticClass:"selection-box"},[i("v-icon",{staticClass:"red--text text--lighten-2 grey lighten-3 pa-2 mr-2 mt-2 rounded-sm",attrs:{size:"16"},on:{click:function(i){return e.onRemoveFile(t.id)}}},[e._v(" mdi-trash-can-outline ")])],1),i("div",["image"===t.type.split("/")[0]?i("v-img",{staticClass:"grey darken-4",attrs:{contain:"",src:t.src,"lazy-src":t.src,"aspect-ratio":1.6},scopedSlots:e._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]},proxy:!0}],null,!0)}):e._e(),"video"===t.type.split("/")[0]?i("v-responsive",{staticClass:"d-flex text-center align-center grey lighten-2",attrs:{"aspect-ratio":1.6}},[i("v-icon",{attrs:{size:"64"}},[e._v("mdi-file-video-outline")])],1):e._e(),"image"!==t.type.split("/")[0]&&"video"!==t.type.split("/")[0]?i("v-responsive",{staticClass:"d-flex text-center align-center grey lighten-2",attrs:{"aspect-ratio":1.6}},[i("v-icon",{attrs:{size:"64"}},[e._v("mdi-file-outline")])],1):e._e()],1),i("div",{staticClass:"media-detail"},[i("div",{staticClass:"name"},[e._v(e._s(t.name))]),i("div",{staticClass:"size"},[e._v(e._s(e.getFileExtension(t))+" - "+e._s(e.getFileSize(t)))]),t.allowed&&!t.sizelimit&&e.progress[t.id]>0&&!e.errors[t.id]?i("div",{staticClass:"progress-container"},[i("v-progress-linear",{staticClass:"white--text",attrs:{height:"25",color:"primary"},model:{value:e.progress[t.id],callback:function(i){e.$set(e.progress,t.id,i)},expression:"progress[media.id]"}},[e._v(" "+e._s(Math.ceil(e.progress[t.id]))+"% ")])],1):e._e(),!t.allowed||t.sizelimit||e.errors[t.id]?i("div",{staticClass:"red lighten-4 progress-container"},[i("div",{staticClass:"text-caption font-italic pa-1"},[e._v(" "+e._s(t.allowed?e.errors[t.id]?"Failed uploading.":"File size limit.":"This file type is not allowed.")+" ")])]):e._e()])])])})),1)},_=[],y=(i("b0c0"),i("99af"),{name:"UploadGridView",props:["medias","onRemoveFile","progress","errors"],data:function(){return{}},methods:{getFileExtension:function(e){var t=e.name,i=t.split(".");return i[i.length-1]||""},getFileSize:function(e){var t=e.size,i=["B","KB","MB","GB"],a=0;while(t>1023&&a<i.length)t/=1024,a++;return t=Math.floor(t),"".concat(t).concat(i[a])}}}),x=y,w=(i("111b"),i("6544")),C=i.n(w),k=i("62ad"),S=i("132d"),E=i("adda"),V=i("490a"),M=i("8e36"),F=i("6b53"),I=i("0fd9"),z=Object(f["a"])(x,b,_,!1,null,"9968df36",null),j=z.exports;C()(z,{VCol:k["a"],VIcon:S["a"],VImg:E["a"],VProgressCircular:V["a"],VProgressLinear:M["a"],VResponsive:F["a"],VRow:I["a"]});var P={name:"UploadPage",components:{DropZone:h,UploadGridView:j},data:function(){return{files:[],progress:[],errors:[],uploading:!1}},methods:{onRemoveFile:function(e){this.files=this.files.filter((function(t){return t.id!=e}))},uploadFiles:function(){var e=this;this.uploading=!0;var t=this.files.filter((function(e){return e.allowed&&!e.sizelimit})),i=t.length,a=0;t.forEach((function(t){e.progress[t.id]=!1;var s=new FormData;s.append("files",t),l.a.post("/api/medias",s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(i){var a=parseInt(Math.round(i.loaded/i.total*100));e.progress=Object(r["a"])(Object(r["a"])({},e.progress),{},Object(n["a"])({},t.id,a))}}).then((function(){e.files=e.files.filter((function(e){return e.id!=t.id}))})).catch((function(i){e.errors=Object(r["a"])(Object(r["a"])({},e.errors),{},Object(n["a"])({},t.id,!0))})).finally((function(){a++,a===i&&(e.uploading=!1)}))}))},setProgress:function(e){this.progress=e},setError:function(e){this.errors=e}}},O=P,A=i("8336"),D=i("a523"),$=i("2fa4"),B=Object(f["a"])(O,a,s,!1,null,null,null);t["default"]=B.exports;C()(B,{VBtn:A["a"],VContainer:D["a"],VSpacer:$["a"]})},"4c6c":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("app-bar"),i("v-main",{staticClass:"grey lighten-3"},[i("router-view")],1)],1)},n=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",[e.$vuetify.breakpoint.mobile?i("v-app-bar",{attrs:{app:"",dense:"",color:"primary",dark:""}},[i("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),i("v-toolbar-title",[e._v("Media App")])],1):e._e(),i("v-navigation-drawer",{attrs:{app:"",color:"primary"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("v-list",{attrs:{nav:"",dense:""}},[i("v-list-item-group",[i("v-list-item",{attrs:{to:"/"}},[i("v-list-item-icon",[i("v-icon",{staticClass:"white--text"},[e._v("mdi-folder-multiple-image")])],1),i("v-list-item-title",{staticClass:"white--text"},[e._v("Media Library")])],1),i("v-list-item",{attrs:{to:"/uploads"}},[i("v-list-item-icon",[i("v-icon",{staticClass:"white--text"},[e._v("mdi-plus-box-multiple")])],1),i("v-list-item-title",{staticClass:"white--text"},[e._v("Add New")])],1)],1)],1)],1)],1)},o=[],l={name:"AppBar",data:function(){return{drawer:!1}},created:function(){this.$vuetify.breakpoint.mobile||(this.drawer=!0)}},c=l,d=i("2877"),u=i("6544"),m=i.n(u),p=i("40dc"),g=i("5bc1"),f=i("132d"),v=i("8860"),h=i("da13"),b=i("1baa"),_=i("34c3"),y=i("5d23"),x=i("f774"),w=i("2a7f"),C=Object(d["a"])(c,r,o,!1,null,null,null),k=C.exports;m()(C,{VAppBar:p["a"],VAppBarNavIcon:g["a"],VIcon:f["a"],VList:v["a"],VListItem:h["a"],VListItemGroup:b["a"],VListItemIcon:_["a"],VListItemTitle:y["b"],VNavigationDrawer:x["a"],VToolbarTitle:w["a"]});var S={name:"App",components:{AppBar:k}},E=S,V=i("7496"),M=i("f6c4"),F=Object(d["a"])(E,s,n,!1,null,null,null),I=F.exports;m()(F,{VApp:V["a"],VMain:M["a"]});i("d3b7"),i("3ca3"),i("ddb0");var z=i("8c4f"),j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("div",{staticClass:"text-h5 ma-2 mb-4"},[e._v("Media Library")]),i("v-row",{staticClass:"pa-2 mb-4"},[i("v-btn",{staticClass:"mt-0 ml-2",class:[{"primary--text":e.bulkSelect}],attrs:{icon:""},on:{click:e.onChangeSelectAll}},[i("v-icon",[e._v(e._s(e.bulkSelect?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"))])],1),i("v-btn",{staticClass:"mt-0",attrs:{color:"error",disabled:0===e.selected.length,icon:""},on:{click:e.deleteSelectedMedia}},[i("v-icon",[e._v("mdi-trash-can-outline")])],1),i("div",{staticClass:"selection-box"},[i("v-select",{staticClass:"ml-2",attrs:{items:e.selectOption,label:"All media items","item-text":"name","item-value":"value","single-line":"",outlined:"",dense:""},on:{change:e.onChangeOption},model:{value:e.filter.mime_type,callback:function(t){e.$set(e.filter,"mime_type",t)},expression:"filter.mime_type"}})],1),i("v-spacer"),i("div",{staticClass:"search-box"},[i("v-text-field",{staticClass:"mr-2",attrs:{label:"Search","prepend-inner-icon":"mdi-magnify",outlined:"","single-line":"",dense:""},on:{keydown:e.onChangeSearch},model:{value:e.filter.s,callback:function(t){e.$set(e.filter,"s",t)},expression:"filter.s"}})],1)],1),i("grid-view-media",{attrs:{medias:e.medias,onSelectFile:e.onSelectFile,onFileClick:e.onFileClick,selected:e.selected,loading:e.loading}}),i("v-row",{staticClass:"ma-4 d-flex justify-end"},[i("v-col",{staticClass:"d-flex justify-end",attrs:{xs:"12",md:"6"}},[i("v-pagination",{attrs:{length:e.medias.count?Math.ceil(e.medias.count/e.PAGE_SIZE):0},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1),i("dialog-box",{attrs:{dialog:e.dialog,setSnackbar:e.setSnackbar,media:e.dialogMedia,closeDialog:e.closeDialog,fetchData:e.fetchData}}),i("v-snackbar",{attrs:{timeout:2e3,color:e.snackbar.success?"success":"error",top:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[i("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar.show=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" ")])],1)},P=[],O=i("5530"),A=(i("4de4"),i("99af"),i("d81d"),i("caad"),i("2532"),i("bc3a")),D=i.n(A),$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{attrs:{"no-gutters":""}},[e.loading?i("v-progress-circular",{attrs:{color:"primary",indeterminate:""}}):e._e(),e.medias.rows&&0===e.medias.rows.length&&!e.loading||0===e.medias.length?i("div",{staticClass:"mx-4 text-body-1 font-italic"},[e._v(" No media available. ")]):e._e(),e._l(e.medias.rows,(function(t){return e.loading?e._e():i("v-col",{key:t.id,staticClass:"d-flex child-flex pa-2",attrs:{sm:"4",md:"3",xl:"2"}},[i("div",{staticClass:"cursor",on:{click:function(i){return e.onFileClick(t)}}},[i("div",{staticClass:"selection-box",on:{click:e.disablePropagation}},[i("v-checkbox",{attrs:{value:e.selected.includes(t.id)},on:{change:function(i){return e.onSelectFile(i,t.id)}}})],1),i("div",{class:[{"image-container":e.selected.includes(t.id)}]},["image"===t.mime_type.split("/")[0]?i("v-img",{staticClass:"grey darken-4",attrs:{contain:"",src:e.getImageUrl(t),"lazy-src":e.getImageUrl(t),"aspect-ratio":1.6},scopedSlots:e._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]},proxy:!0}],null,!0)}):e._e(),"video"===t.mime_type.split("/")[0]?i("v-responsive",{staticClass:"d-flex text-center align-center grey lighten-2",attrs:{"aspect-ratio":1.6}},[i("v-icon",{attrs:{size:"64"}},[e._v("mdi-file-video-outline")])],1):e._e(),"image"!==t.mime_type.split("/")[0]&&"video"!==t.mime_type.split("/")[0]?i("v-responsive",{staticClass:"d-flex text-center align-center grey lighten-2",attrs:{"aspect-ratio":1.6}},[i("v-icon",{attrs:{size:"64"}},[e._v("mdi-file-outline")])],1):e._e()],1),i("div",{staticClass:"media-detail"},[i("div",{staticClass:"name"},[e._v(e._s(t.name))]),i("div",{staticClass:"size"},[e._v(e._s(e.getFileExtension(t))+" - "+e._s(e.getFileSize(t)))])])])])}))],2)},B=[],T=(i("b0c0"),i("1276"),i("ac1f"),{name:"GridViewMedia",props:["medias","onSelectFile","onFileClick","selected","loading"],data:function(){return{}},methods:{getFileExtension:function(e){var t=e.name,i=t.split(".");return i[i.length-1]},getFileSize:function(e){var t=e.size,i=["B","KB","MB","GB"],a=0;while(t>1023&&a<i.length)t/=1024,a++;return t=Math.floor(t),"".concat(t).concat(i[a])},disablePropagation:function(e){e.preventDefault(),e.stopPropagation()},getImageUrl:function(e){return["image/jpeg","image/png","image/webp"].includes(e.mime_type)?e.thumb:e.url}}}),L=T,R=(i("379a"),i("ac7c")),G=i("62ad"),Z=i("adda"),U=i("490a"),N=i("6b53"),Y=i("0fd9"),X=Object(d["a"])(L,$,B,!1,null,"577f8704",null),J=X.exports;m()(X,{VCheckbox:R["a"],VCol:G["a"],VIcon:f["a"],VImg:Z["a"],VProgressCircular:U["a"],VResponsive:N["a"],VRow:Y["a"]});var K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.media?i("v-dialog",{attrs:{persistent:"","no-click-animation":"",width:"75%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-container",{staticClass:"grey lighten-3"},[i("v-row",[i("v-col",{attrs:{sm:"6"}},[i("div",{staticClass:"left-content"},[i("div",{staticClass:"icon-group"},[i("v-icon",{staticClass:"red--text text--lighten-2 grey lighten-3 pa-2 mr-2 mt-2 rounded-sm",attrs:{size:"16"},on:{click:function(t){return e.deleteMedia(e.media.id)}}},[e._v(" mdi-trash-can-outline ")]),i("v-icon",{staticClass:"grey lighten-3 pa-2 mr-2 mt-2 rounded-sm",attrs:{size:"16"},on:{click:function(t){return e.download(e.media.id)}}},[e._v(" mdi-download ")]),i("v-icon",{staticClass:"grey lighten-3 pa-2 mr-2 mt-2 rounded-sm",attrs:{size:"16"},on:{click:function(t){return e.copytoClipboard(e.media)}}},[e._v(" mdi-link-variant ")])],1),"image"===e.media.mime_type.split("/")[0]?i("v-img",{staticClass:"grey darken-4 rounded-sm",attrs:{contain:"",src:e.getImageUrl(e.media),"lazy-src":e.getImageUrl(e.media),"aspect-ratio":1},scopedSlots:e._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]},proxy:!0}],null,!1,3042438443)}):e._e(),"video"===e.media.mime_type.split("/")[0]?i("v-responsive",{staticClass:"d-flex text-center align-center grey darken-4 rounded-sm",attrs:{"aspect-ratio":1}},[i("video",{attrs:{width:"420",height:"auto",controls:""}},[i("source",{attrs:{src:e.media.url,type:e.media.mime_type}}),e._v(" Your browser does not support the video tag. ")])]):e._e(),"image"!==e.media.mime_type.split("/")[0]&&"video"!==e.media.mime_type.split("/")[0]?i("v-responsive",{staticClass:"d-flex text-center align-center grey lighten-2",attrs:{"aspect-ratio":1.6}},[i("v-icon",{attrs:{size:"64"}},[e._v("mdi-file-outline")])],1):e._e()],1)]),i("v-col",{attrs:{sm:"6"}},[i("div",{staticClass:"right-content py-2"},[i("div",{staticClass:"close-icon"},[i("v-icon",{attrs:{size:"32"},on:{click:e.closeDialog}},[e._v(" mdi-close ")])],1),i("div",{staticClass:"text-body-2"},[i("strong",[e._v("Uploaded on:")]),e._v(" "+e._s(e.formatDate(e.media.uploaded_at))+" ")]),i("div",{staticClass:"text-body-2"},[i("strong",[e._v("File type:")]),e._v(" "+e._s(e.media.mime_type)+" ")]),i("div",{staticClass:"text-body-2"},[i("strong",[e._v("File size:")]),e._v(" "+e._s(e.getFileSize(e.media))+" ")]),["image/jpeg","image/png","image/webp"].includes(e.media.mime_type)?i("div",{staticClass:"text-body-2"},[i("strong",[e._v("Dimensions:")]),e._v(" "+e._s(e.media.dimensions)+" ")]):e._e(),i("br"),i("v-text-field",{staticClass:"mr-4 mb-2",attrs:{label:"File name",dense:"",outlined:"","single-line":""},model:{value:e.media.name,callback:function(t){e.$set(e.media,"name",t)},expression:"media.name"}}),"image"===e.media.mime_type.split("/")[0]?i("v-text-field",{staticClass:"mr-4 mb-2",attrs:{label:"Alt Text",dense:"",outlined:"","single-line":""},model:{value:e.media.alt,callback:function(t){e.$set(e.media,"alt",t)},expression:"media.alt"}}):e._e(),i("v-text-field",{staticClass:"mr-4 mb-2",attrs:{label:"Description",dense:"",outlined:"","single-line":""},model:{value:e.media.description,callback:function(t){e.$set(e.media,"description",t)},expression:"media.description"}}),i("v-text-field",{staticClass:"mr-4 mb-2",attrs:{label:"Caption",dense:"",outlined:"","single-line":""},model:{value:e.media.caption,callback:function(t){e.$set(e.media,"caption",t)},expression:"media.caption"}}),i("v-btn",{attrs:{color:"primary",disabled:e.saving},on:{click:e.updateMedia}},[e._v("Save")])],1)])],1)],1)],1):e._e()},q=[],H=(i("c96a"),{name:"DialogBox",props:["dialog","setSnackbar","media","closeDialog","fetchData"],data:function(){return{saving:!1}},methods:{copytoClipboard:function(e){var t="";t=["image/jpeg","image/png","image/webp"].includes(e.mime_type)?"".concat(e.url,"?imid=").concat(e.id):e.url;var i=document.createElement("textarea");i.textContent=t,document.body.appendChild(i);var a=document.getSelection(),s=document.createRange();s.selectNode(i),a.removeAllRanges(),a.addRange(s);var n=document.execCommand("copy");a.removeAllRanges(),document.body.removeChild(i),n&&this.setSnackbar({show:!0,message:"Copied url to clipboard.",success:!0})},updateMedia:function(){var e=this;this.saving=!0,D.a.put("/api/medias",{headers:{"Content-Type":"application/json"},data:this.media}).then((function(t){e.setSnackbar({show:!0,message:"Successfully updated.",success:!0}),e.saving=!1,e.fetchData()})).catch((function(t){e.setSnackbar({show:!0,message:"Something went wrong.",success:!1}),e.saving=!1}))},deleteMedia:function(e){var t=this;confirm("Are you sure want to delete this file?")&&D.a.delete("/api/medias/".concat(e)).then((function(e){t.closeDialog(),t.fetchData()})).catch((function(e){t.setSnackbar({show:!0,message:"Something went wrong.",success:!1})}))},getImageUrl:function(e){return["image/jpeg","image/png","image/webp"].includes(e.mime_type)?e.small:e.url},getFileSize:function(e){var t=e.size,i=["B","KB","MB","GB"],a=0;while(t>1023&&a<i.length)t/=1024,a++;return t=Math.floor(t),"".concat(t).concat(i[a])},formatDate:function(e){var t=new Date(e);return t.toDateString()},download:function(e){window.open("/api/medias/downloads/".concat(e))}}}),Q=H,W=i("8336"),ee=i("a523"),te=i("169a"),ie=i("8654"),ae=Object(d["a"])(Q,K,q,!1,null,null,null),se=ae.exports;m()(ae,{VBtn:W["a"],VCol:G["a"],VContainer:ee["a"],VDialog:te["a"],VIcon:f["a"],VImg:Z["a"],VProgressCircular:U["a"],VResponsive:N["a"],VRow:Y["a"],VTextField:ie["a"]});var ne=i("b05c"),re={name:"MediaPage",components:{GridViewMedia:J,DialogBox:se},data:function(){return{selectOption:[{name:"All media items",value:""},{name:"Images",value:"image"},{name:"Video",value:"video"}],filter:{s:"",mime_type:""},page:1,PAGE_SIZE:[],medias:[],bulkSelect:!1,selected:[],dialog:!1,loading:!1,dialogMedia:null,snackbar:{show:!1,message:"",success:!1}}},methods:{onChangeOption:function(){this.page=1,this.fetchData()},onChangeSearch:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.page=1,e.fetchData()}),500)},fetchData:function(){var e=this;this.loading=!0;var t=[(this.page-1)*this.PAGE_SIZE,(this.page-1)*this.PAGE_SIZE+this.PAGE_SIZE-1];t=JSON.stringify(t);var i=JSON.stringify(this.filter),a="filter=".concat(i,"&range=").concat(t);D.a.get("/api/medias?".concat(a)).then((function(t){var i=t.data;e.loading=!1,e.medias=i,e.bulkSelect=!1,e.selected=[]})).catch((function(t){e.loading=!1,e.snackbar={show:!0,message:"Could not fetch data.",success:!1}}))},onSelectFile:function(e,t){e?this.selected.push(t):this.selected=this.selected.filter((function(e){return e!==t})),this.selected.length===this.medias.length?this.bulkSelect=!0:this.bulkSelect=!1},onChangeSelectAll:function(){0!==this.medias.rows.length&&(this.bulkSelect?(this.selected=[],this.bulkSelect=!1):(this.selected=this.medias.rows.map((function(e){return e.id})),this.bulkSelect=!0))},onFileClick:function(e){this.dialogMedia=e,this.dialog=!0},closeDialog:function(){this.dialog=!1,this.dialogMedia=null},deleteSelectedMedia:function(){var e=this;if(0!==this.selected.length){var t=JSON.stringify(this.selected);confirm("Are you sure want to delete this ".concat(this.selected.length," files?"))&&D.a.delete("/api/medias?ids=".concat(t)).then((function(t){e.snackbar={show:!0,message:"Successfully deleted ".concat(e.selected.length," files."),success:!0},e.medias=Object(O["a"])(Object(O["a"])({},e.medias),{},{rows:e.medias.rows.filter((function(t){return!e.selected.includes(t.id)}))}),e.selected=[],e.bulkSelect=!1,e.selected.length===e.medias.length&&e.page>1&&(e.page=e.page-1),e.fetchData()})).catch((function(t){e.snackbar={show:!0,message:"Something went wrong.",success:!1}}))}},setSnackbar:function(e){this.snackbar=e}},created:function(){this.PAGE_SIZE=ne["PAGE_SIZE"],this.fetchData()},watch:{page:function(){this.fetchData()}}},oe=re,le=(i("f0ad"),i("891e")),ce=i("b974"),de=i("2db4"),ue=i("2fa4"),me=Object(d["a"])(oe,j,P,!1,null,null,null),pe=me.exports;m()(me,{VBtn:W["a"],VCol:G["a"],VContainer:ee["a"],VIcon:f["a"],VPagination:le["a"],VRow:Y["a"],VSelect:ce["a"],VSnackbar:de["a"],VSpacer:ue["a"],VTextField:ie["a"]});i("4012");a["a"].use(z["a"]);var ge=[{path:"/",name:"MediaPage",component:pe},{path:"/uploads",name:"UploadPage",component:function(){return Promise.resolve().then(i.bind(null,"4012"))}}],fe=new z["a"]({routes:ge}),ve=fe,he=i("f309");a["a"].use(he["a"]);var be=new he["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:ve,vuetify:be,render:function(e){return e(I)}}).$mount("#app")},"65b3":function(e,t,i){"use strict";i("7dbc")},"7dbc":function(e,t,i){},b05c:function(e,t){e.exports={MAX_FILE_SIZE:40,PAGE_SIZE:10,MIME_TYPES:["image/jpeg","image/png","image/gif","image/webp","video/mp4","video/webm"]}},d02e:function(e,t,i){},f0ad:function(e,t,i){"use strict";i("3273")}});
//# sourceMappingURL=app.1de033bc.js.map