{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/UploadGridView.vue?82fd","webpack:///./src/components/GridViewMedia.vue?23e9","webpack:///./src/views/UploadPage.vue?9ab5","webpack:///./src/components/DropZone.vue?ca9d","webpack:///src/components/DropZone.vue","webpack:///./src/components/DropZone.vue?bd38","webpack:///./src/components/DropZone.vue?b3fc","webpack:///./src/components/UploadGridView.vue?8aeb","webpack:///src/components/UploadGridView.vue","webpack:///./src/components/UploadGridView.vue?a623","webpack:///./src/components/UploadGridView.vue?a933","webpack:///src/views/UploadPage.vue","webpack:///./src/views/UploadPage.vue?016d","webpack:///./src/views/UploadPage.vue","webpack:///./src/App.vue?051b","webpack:///./src/components/AppBar.vue?92fd","webpack:///src/components/AppBar.vue","webpack:///./src/components/AppBar.vue?89e6","webpack:///./src/components/AppBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?7a5c","webpack:///./src/App.vue","webpack:///./src/views/MediaPage.vue?1cfa","webpack:///./src/components/GridViewMedia.vue?5663","webpack:///src/components/GridViewMedia.vue","webpack:///./src/components/GridViewMedia.vue?e0ee","webpack:///./src/components/GridViewMedia.vue?a67f","webpack:///./src/components/DialogBox.vue?bf44","webpack:///src/components/DialogBox.vue","webpack:///./src/components/DialogBox.vue?f66f","webpack:///./src/components/DialogBox.vue","webpack:///src/views/MediaPage.vue","webpack:///./src/views/MediaPage.vue?c81d","webpack:///./src/views/MediaPage.vue?c4f5","webpack:///./src/router/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/DropZone.vue?e0b4","webpack:///../config.js","webpack:///./src/views/MediaPage.vue?51e1"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","files","uploading","on","$event","uploadFiles","progress","errors","setError","setProgress","onRemoveFile","staticRenderFns","ref","class","dropzoneActive","MIME_TYPES","join","onFileChange","_s","MAX_FILE_SIZE","component","_l","media","id","type","split","src","scopedSlots","_u","fn","proxy","_e","getFileExtension","getFileSize","allowed","sizelimit","model","callback","$$v","$set","expression","Math","ceil","props","methods","ext","size","floor","VCol","VIcon","VImg","VProgressCircular","VProgressLinear","VResponsive","VRow","VBtn","VContainer","VSpacer","$vuetify","breakpoint","drawer","VAppBar","VAppBarNavIcon","VList","VListItem","VListItemGroup","VListItemIcon","VListItemTitle","VNavigationDrawer","VToolbarTitle","VToolbar","components","AppBar","VApp","VMain","bulkSelect","onChangeSelectAll","selected","deleteSelectedMedia","selectOption","onChangeOption","filter","onChangeSearch","medias","onSelectFile","onFileClick","loading","count","PAGE_SIZE","page","dialog","setSnackbar","dialogMedia","closeDialog","fetchData","snackbar","success","_b","show","message","rows","disablePropagation","includes","mime_type","getImageUrl","e","preventDefault","stopPropagation","thumb","url","VCheckbox","deleteMedia","download","copytoClipboard","formatDate","uploaded_at","dimensions","saving","updateMedia","textArea","textContent","text","document","body","appendChild","range","selectNode","selection","removeAllRanges","addRange","removeChild","date","toDateString","open","VDialog","VTextField","GridViewMedia","DialogBox","clearTimeout","timeout","setTimeout","JSON","stringify","map","file","created","watch","VPagination","VSelect","VSnackbar","Vue","use","VueRouter","routes","path","MediaPage","router","Vuetify","config","productionTip","vuetify","h","App","$mount"],"mappings":"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","file":"js/app.1de033bc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadGridView.vue?vue&type=style&index=0&id=9968df36&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridViewMedia.vue?vue&type=style&index=0&id=577f8704&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('div',{staticClass:\"d-flex ma-2 mb-4\"},[_c('div',{staticClass:\"text-h5\"},[_vm._v(\"Upload New Media\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\",\"disabled\":!_vm.files.length || _vm.uploading},on:{\"click\":function($event){_vm.files = []}}},[_vm._v(\" Delete \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":!_vm.files.length || _vm.uploading},on:{\"click\":_vm.uploadFiles}},[_vm._v(\" Upload \")])],1),_c('drop-zone',{attrs:{\"files\":_vm.files,\"progress\":_vm.progress,\"errors\":_vm.errors,\"setError\":_vm.setError,\"setProgress\":_vm.setProgress}}),_c('upload-grid-view',{attrs:{\"medias\":_vm.files,\"onRemoveFile\":_vm.onRemoveFile,\"progress\":_vm.progress,\"errors\":_vm.errors}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ma-2\"},[_c('div',{ref:\"dropzone\",class:['dropzone mb-2', { 'dropzone-active': _vm.dropzoneActive } ]},[_c('div',{staticClass:\"text-body-1\"},[_vm._v(\"Drop files to upload\")]),_c('div',{staticClass:\"text-body-2\"},[_vm._v(\"or\")]),_c('div',{staticClass:\"fileinput my-2\"},[_c('label',{attrs:{\"for\":\"files\"}},[_vm._v(\"Select Files\")]),_c('input',{attrs:{\"accept\":_vm.MIME_TYPES.join(','),\"type\":\"file\",\"name\":\"files\",\"id\":\"files\",\"multiple\":\"\"},on:{\"change\":_vm.onFileChange}})]),_c('div',{staticClass:\"text-body-2\"},[_vm._v(\"Maximum upload file size: \"+_vm._s(_vm.MAX_FILE_SIZE)+\" MB.\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"ma-2\">\r\n\t\t<div :class=\"['dropzone mb-2', { 'dropzone-active': dropzoneActive } ]\" ref=\"dropzone\">\r\n\t\t\t<div class=\"text-body-1\">Drop files to upload</div>\r\n\t\t\t<div class=\"text-body-2\">or</div>\r\n\t\t\t<div class=\"fileinput my-2\">\r\n\t\t\t\t<label for=\"files\">Select Files</label>\r\n\t\t\t\t<input :accept=\"MIME_TYPES.join(',')\" type=\"file\" name=\"files\" id=\"files\" @change=\"onFileChange\" multiple />\r\n\t\t\t</div>\r\n\t\t    <div class=\"text-body-2\">Maximum upload file size: {{ MAX_FILE_SIZE }} MB.</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { uuid } from 'vue-uuid'\r\nimport { MIME_TYPES, MAX_FILE_SIZE } from '../../../config.js'\r\n\r\nexport default {\r\n\tname: 'DropZone',\r\n\tprops: ['files', 'progress', 'setProgress', 'setError', 'errors'],\r\n\tcomponents: { },\r\n\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tMIME_TYPES: [],\r\n\t\t\tMAX_FILE_SIZE: 0,\r\n\t\t\tdropzoneActive: false\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tonFileChange: function(e) {\r\n\t\t\te.target.files.forEach(file => {\r\n\t\t\t\tthis.addFile(file)\r\n\t\t\t})\r\n\t\t\te.target.value = ''\r\n\t\t},\r\n\r\n\t\taddFile: function(file) {\r\n\t\t\tconst fileId = uuid.v4()\r\n\t\t\tfile.id = fileId\r\n\t\t\tfile.allowed = true\r\n\t\t\tfile.sizelimit = false\r\n\r\n\t\t\tthis.setProgress({...this.progress, [fileId]: 0 })\r\n\t\t\tthis.setError({...this.errors, [fileId]: false })\r\n\r\n\t\t\tif(file.size > MAX_FILE_SIZE * 1024 * 1024) {\r\n\t\t\t\tfile.sizelimit = true\r\n\t\t\t}\r\n\r\n\t\t\tif(!MIME_TYPES.includes(file.type)) {\r\n\t\t\t\tfile.allowed = false\r\n\t\t\t\tthis.files.unshift(file)\r\n\r\n\t\t\t}else if(file.type.split('/')[0] === 'image') {\r\n\t\t\t\tconst fileReader = new FileReader()\r\n\t\t\t\tfileReader.onload = e => {\r\n\t\t\t\t\tfile.src = e.target.result \r\n\t\t\t\t\tthis.files.unshift(file)\r\n\t\t\t\t}\r\n\t\t\t\tfileReader.readAsDataURL(file)\r\n\r\n\t\t\t}else{\r\n\t\t\t\tthis.files.unshift(file)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tcreated: function() {\r\n\t\tthis.MIME_TYPES = MIME_TYPES\r\n\t\tthis.MAX_FILE_SIZE = MAX_FILE_SIZE\r\n\t},\r\n\r\n\tmounted: function() {\r\n\t\t['drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop'].forEach(function(evt) {\r\n\t\t\tthis.$refs.dropzone.addEventListener(evt, function(e) {\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\te.stopPropagation()\r\n\t\t\t}.bind(this), false)\r\n\t\t}.bind(this))\r\n\r\n\t\tlet counter = 0\r\n\r\n\t\tthis.$refs.dropzone.addEventListener('dragenter', function(e) {\r\n\t\t\tcounter++\r\n\t\t\tthis.dropzoneActive = true\r\n\t\t}.bind(this))\r\n\r\n\t\tthis.$refs.dropzone.addEventListener('dragleave', function(e) {\r\n\t\t\tcounter--\r\n\t\t\tif(counter === 0) this.dropzoneActive = false\r\n\t\t}.bind(this))\r\n\r\n\t\tthis.$refs.dropzone.addEventListener('drop', function(e) {\r\n\t\t\tthis.dropzoneActive = false\r\n\r\n\t\t\te.dataTransfer.files.forEach(file => {\r\n\t\t\t\tthis.addFile(file)\r\n\t\t\t})\r\n\t\t}.bind(this))\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dropzone {\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tpadding-top: 4rem;\r\n\tpadding-bottom: 4rem;\r\n\tmargin-right: 10rem;\r\n\tborder: 2px dashed #1976d2;\r\n}\r\n\r\n.dropzone.dropzone-active {\r\n\tbackground-color: #bbd3fb;\r\n}\r\n\r\n.fileinput input {\r\n\tbackground: #ddd;\r\n\twidth: 50px;\r\n\theight: 50px;\r\n\tdisplay: none;\r\n}\r\n\r\n.fileinput label {\r\n\talign-items: center;\r\n    border-radius: 4px;\r\n    display: inline-flex;\r\n    flex: 0 0 auto;\r\n    font-weight: 500;\r\n    letter-spacing: 0.0892857143em;\r\n    justify-content: center;\r\n    outline: 0;\r\n    position: relative;\r\n    text-decoration: none;\r\n    text-indent: 0.0892857143em;\r\n    text-transform: uppercase;\r\n    transition-duration: 0.28s;\r\n    transition-property: box-shadow, transform, opacity;\r\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    vertical-align: middle;\r\n    white-space: nowrap;\r\n    cursor: pointer;\r\n    background-color: #1976d2;\r\n    color: #fff;\r\n\theight: 36px;\r\n    min-width: 64px;\r\n    padding: 0 16px;\r\n    font-size: 0.8rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DropZone.vue?vue&type=template&id=ba57bd70&scoped=true&\"\nimport script from \"./DropZone.vue?vue&type=script&lang=js&\"\nexport * from \"./DropZone.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DropZone.vue?vue&type=style&index=0&id=ba57bd70&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba57bd70\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"no-gutters\":\"\"}},_vm._l((_vm.medias),function(media,i){return _c('v-col',{key:i,staticClass:\"d-flex child-flex pa-2\",attrs:{\"sm\":\"4\",\"md\":\"3\",\"xl\":\"2\"}},[_c('div',{staticClass:\"cursor\"},[_c('div',{staticClass:\"selection-box\"},[_c('v-icon',{staticClass:\"red--text text--lighten-2 grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\",attrs:{\"size\":\"16\"},on:{\"click\":function($event){return _vm.onRemoveFile(media.id)}}},[_vm._v(\" mdi-trash-can-outline \")])],1),_c('div',[(media.type.split('/')[0] === 'image')?_c('v-img',{staticClass:\"grey darken-4\",attrs:{\"contain\":\"\",\"src\":media.src,\"lazy-src\":media.src,\"aspect-ratio\":16/10},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1)]},proxy:true}],null,true)}):_vm._e(),(media.type.split('/')[0] === 'video')?_c('v-responsive',{staticClass:\"d-flex text-center align-center grey lighten-2\",attrs:{\"aspect-ratio\":16/10}},[_c('v-icon',{attrs:{\"size\":\"64\"}},[_vm._v(\"mdi-file-video-outline\")])],1):_vm._e(),(!(media.type.split('/')[0] === 'image') && !(media.type.split('/')[0] === 'video'))?_c('v-responsive',{staticClass:\"d-flex text-center align-center grey lighten-2\",attrs:{\"aspect-ratio\":16/10}},[_c('v-icon',{attrs:{\"size\":\"64\"}},[_vm._v(\"mdi-file-outline\")])],1):_vm._e()],1),_c('div',{staticClass:\"media-detail\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(media.name))]),_c('div',{staticClass:\"size\"},[_vm._v(_vm._s(_vm.getFileExtension(media))+\" - \"+_vm._s(_vm.getFileSize(media)))]),(media.allowed && !media.sizelimit && _vm.progress[media.id] > 0 && !_vm.errors[media.id])?_c('div',{staticClass:\"progress-container\"},[_c('v-progress-linear',{staticClass:\"white--text\",attrs:{\"height\":\"25\",\"color\":\"primary\"},model:{value:(_vm.progress[media.id]),callback:function ($$v) {_vm.$set(_vm.progress, media.id, $$v)},expression:\"progress[media.id]\"}},[_vm._v(\" \"+_vm._s(Math.ceil(_vm.progress[media.id]))+\"% \")])],1):_vm._e(),(!media.allowed || media.sizelimit || _vm.errors[media.id])?_c('div',{staticClass:\"red lighten-4 progress-container\"},[_c('div',{staticClass:\"text-caption font-italic pa-1\"},[_vm._v(\" \"+_vm._s(!media.allowed ? 'This file type is not allowed.': _vm.errors[media.id] ? 'Failed uploading.' : 'File size limit.')+\" \")])]):_vm._e()])])])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row no-gutters>\r\n    <v-col\r\n      v-for=\"(media , i) in medias\"\r\n      :key=\"i\"\r\n      class=\"d-flex child-flex pa-2\"\r\n      sm=\"4\"\r\n      md=\"3\"\r\n      xl=\"2\"\r\n    >\r\n      <div class=\"cursor\">\r\n        <div class=\"selection-box\">\r\n          <v-icon \r\n              @click=\"onRemoveFile(media.id)\" \r\n              size=\"16\" \r\n              class=\"red--text text--lighten-2 grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\"\r\n            >\r\n                mdi-trash-can-outline\r\n            </v-icon>\r\n        </div>\r\n        <div>\r\n          <v-img\r\n            v-if=\"media.type.split('/')[0] === 'image'\"\r\n            contain\r\n            :src=\"media.src\"\r\n            :lazy-src=\"media.src\"\r\n            :aspect-ratio=\"16/10\"\r\n            class=\"grey darken-4\"\r\n          >\r\n            <template v-slot:placeholder>\r\n              <v-row\r\n                class=\"fill-height ma-0\"\r\n                align=\"center\"\r\n                justify=\"center\"\r\n              >\r\n                <v-progress-circular\r\n                  indeterminate\r\n                  color=\"primary\"\r\n                ></v-progress-circular>\r\n              </v-row>\r\n            </template>\r\n          </v-img>\r\n          <v-responsive \r\n            v-if=\"media.type.split('/')[0] === 'video'\"\r\n            :aspect-ratio=\"16/10\"\r\n            class=\"d-flex text-center align-center grey lighten-2\"\r\n          >\r\n            <v-icon size=\"64\">mdi-file-video-outline</v-icon>\r\n          </v-responsive>\r\n\r\n          <v-responsive \r\n            v-if=\"!(media.type.split('/')[0] === 'image') && !(media.type.split('/')[0] === 'video')\"\r\n            :aspect-ratio=\"16/10\"\r\n            class=\"d-flex text-center align-center grey lighten-2\"\r\n          >\r\n            <v-icon size=\"64\">mdi-file-outline</v-icon>\r\n          </v-responsive>\r\n        </div>\r\n\r\n        <div class=\"media-detail\">\r\n          <div class=\"name\">{{ media.name }}</div>\r\n          <div class=\"size\">{{ getFileExtension(media) }} - {{ getFileSize(media) }}</div>\r\n\r\n\r\n          <div class=\"progress-container\" \r\n          v-if=\"media.allowed && !media.sizelimit && progress[media.id] > 0 && !errors[media.id]\"\r\n          >\r\n            <v-progress-linear\r\n              v-model=\"progress[media.id]\"\r\n              height=\"25\"\r\n              color=\"primary\"\r\n              class=\"white--text\"\r\n            >\r\n              {{ Math.ceil(progress[media.id]) }}%\r\n            </v-progress-linear>\r\n          </div>\r\n\r\n          <div \r\n            class=\"red lighten-4 progress-container\" \r\n            v-if=\"!media.allowed || media.sizelimit || errors[media.id]\"\r\n          >\r\n            <div \r\n              class=\"text-caption font-italic pa-1\"\r\n            >\r\n                {{ !media.allowed ? 'This file type is not allowed.': errors[media.id] ? 'Failed uploading.' : 'File size limit.' }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\n\r\nexport default {\r\n  name: 'UploadGridView',\r\n\r\n  props: ['medias', 'onRemoveFile', 'progress', 'errors'],\r\n\r\n  data: function() {\r\n    return {\r\n    }\r\n  },\r\n  methods: {\r\n    getFileExtension: function(file) {\r\n      const filename = file.name\r\n      const ext = filename.split('.')\r\n      return ext[ext.length - 1] || ''\r\n    },\r\n    getFileSize: function(file) {\r\n      let size = file.size\r\n\r\n      const sizes = ['B', 'KB', 'MB', 'GB']\r\n      let i = 0\r\n\r\n      while(size > 1023 && i < sizes.length) {\r\n        size /= 1024\r\n        i++\r\n      }\r\n\r\n      size = Math.floor(size)\r\n\r\n      return `${size}${sizes[i]}`\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cursor {\r\n  position: relative;\r\n}\r\n\r\n.selection-box {\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n.image-container {\r\n  outline: 2px solid #1976d2;\r\n}\r\n.media-detail {\r\n  margin-top: -0.5rem;\r\n  position: relative;\r\n}\r\n\r\n.progress-container {\r\n  position: absolute;\r\n  bottom:100%;\r\n  width: 100%;\r\n}\r\n\r\n.media-detail .name {\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  color: #333;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  height: 2rem;\r\n  line-height: 0.8rem;\r\n  padding-top: 1rem;\r\n}\r\n\r\n.media-detail .size {\r\n  font-size: 0.7rem;\r\n  line-height: 0.8rem;\r\n  font-weight: 500;\r\n  color: #777;\r\n  overflow: hidden;\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadGridView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadGridView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadGridView.vue?vue&type=template&id=9968df36&scoped=true&\"\nimport script from \"./UploadGridView.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadGridView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadGridView.vue?vue&type=style&index=0&id=9968df36&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9968df36\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VIcon,VImg,VProgressCircular,VProgressLinear,VResponsive,VRow})\n","<template>\n\t<v-container>\n\t\t<div class=\"d-flex ma-2 mb-4\">\n\t\t\t<div class=\"text-h5\">Upload New Media</div>\n\t\t\t<v-spacer></v-spacer>\n\t\t\t<v-btn \n\t\t\t\ttext \n\t\t\t\tcolor=\"error\" \n\t\t\t\t@click=\"files = []\"\n\t\t\t\t:disabled=\"!files.length || uploading\"\n\t\t\t>\n\t\t\t\tDelete\n\t\t\t</v-btn>\n\t\t\t<v-btn \n\t\t\t\ttext \n\t\t\t\tcolor=\"primary\" \n\t\t\t\t@click=\"uploadFiles\"\n\t\t\t\t:disabled=\"!files.length || uploading\"\n\t\t\t>\n\t\t\t\tUpload\n\t\t\t</v-btn>\n\t\t</div>\n\t\t<drop-zone \n\t\t\t:files=\"files\"  \n\t\t\t:progress=\"progress\" \n\t\t\t:errors=\"errors\"\n\t\t\t:setError=\"setError\"\n\t\t\t:setProgress=\"setProgress\" />\n\n\t\t<upload-grid-view \n\t\t\t:medias=\"files\" \n\t\t\t:onRemoveFile=\"onRemoveFile\" \n\t\t\t:progress=\"progress\"\n\t\t\t:errors=\"errors\" />\n\n\t</v-container>\n</template>\n\n<script>\n\nimport axios from 'axios'\n\nimport DropZone from '../components/DropZone.vue'\nimport UploadGridView from '../components/UploadGridView.vue'\n\nexport default {\n\tname: 'UploadPage',\n\n\tcomponents: {\n\t\tDropZone,\n\t\tUploadGridView\n\t},\n\n\tdata: function() {\n\t\treturn {\n\t\t\tfiles: [],\n\t\t\tprogress: [],\n\t\t\terrors: [],\n\t\t\tuploading: false,\n\t\t}\n\t},\n\n\tmethods: {\n\t\tonRemoveFile: function(id) {\n\t\t\tthis.files = this.files.filter(file => file.id != id)\n\t\t},\n\t\tuploadFiles: function() {\n\n\t\t\tthis.uploading = true\n\n\t\t\tconst files = this.files.filter(file => (file.allowed && !file.sizelimit))\n\t\t\tconst totalFilesToUpload = files.length\n\t\t\tlet filesUploaded = 0\n\n\t\t\tfiles.forEach(file => {\n\t\t\t\tthis.progress[file.id] = false\n\t\t\t\tconst formData = new FormData()\n\t\t\t\tformData.append('files', file)\n\n\t\t\t\taxios.post('/api/medias', formData, {\n\t\t\t\t\theaders: {\n\t            'Content-Type': 'multipart/form-data'\n\t        },\n\t        onUploadProgress: ( progressEvent ) => {\n\t        \tconst progress = parseInt( Math.round( ( progressEvent.loaded / progressEvent.total ) * 100 ))\n\t        \tthis.progress = { ...this.progress, [file.id]: progress }\n\t      \t}\n\t\t\t\t}).then(() => {\n\t\t\t\t    this.files = this.files.filter(f => f.id != file.id)\n\t\t\t\t}).catch((err) => {\n\t\t\t\t    this.errors = { ...this.errors, [file.id]: true }\n\t\t\t\t}).finally(() => {\n\t\t\t\t\tfilesUploaded++\n\t\t\t\t\tif(filesUploaded === totalFilesToUpload) {\n\t\t\t\t\t\tthis.uploading = false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\tsetProgress: function(value) {\n\t\t\tthis.progress = value\n\t\t},\n\t\tsetError: function(value) {\n\t\t\tthis.errors = value\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadPage.vue?vue&type=template&id=f47e0338&\"\nimport script from \"./UploadPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VContainer,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('app-bar'),_c('v-main',{staticClass:\"grey lighten-3\"},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[(_vm.$vuetify.breakpoint.mobile)?_c('v-app-bar',{attrs:{\"app\":\"\",\"dense\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){_vm.drawer = true}}}),_c('v-toolbar-title',[_vm._v(\"Media App\")])],1):_vm._e(),_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"color\":\"primary\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{attrs:{\"nav\":\"\",\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{attrs:{\"to\":\"/\"}},[_c('v-list-item-icon',[_c('v-icon',{staticClass:\"white--text\"},[_vm._v(\"mdi-folder-multiple-image\")])],1),_c('v-list-item-title',{staticClass:\"white--text\"},[_vm._v(\"Media Library\")])],1),_c('v-list-item',{attrs:{\"to\":\"/uploads\"}},[_c('v-list-item-icon',[_c('v-icon',{staticClass:\"white--text\"},[_vm._v(\"mdi-plus-box-multiple\")])],1),_c('v-list-item-title',{staticClass:\"white--text\"},[_vm._v(\"Add New\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <nav>\r\n    <v-app-bar\r\n      app\r\n      dense\r\n      color=\"primary\"\r\n      dark\r\n      v-if=\"$vuetify.breakpoint.mobile\"\r\n    >\r\n      <v-app-bar-nav-icon @click=\"drawer = true\"></v-app-bar-nav-icon>\r\n\r\n      <v-toolbar-title>Media App</v-toolbar-title>\r\n    </v-app-bar>\r\n\r\n    <v-navigation-drawer\r\n      v-model=\"drawer\"\r\n      app\r\n      color=\"primary\"\r\n    >\r\n      <v-list\r\n        nav\r\n        dense\r\n      >\r\n        <v-list-item-group>\r\n          <v-list-item to=\"/\">\r\n            <v-list-item-icon>\r\n              <v-icon class=\"white--text\">mdi-folder-multiple-image</v-icon>\r\n            </v-list-item-icon>\r\n            <v-list-item-title class=\"white--text\">Media Library</v-list-item-title>\r\n          </v-list-item>\r\n\r\n          <v-list-item to='/uploads'>\r\n            <v-list-item-icon>\r\n              <v-icon class=\"white--text\">mdi-plus-box-multiple</v-icon>\r\n            </v-list-item-icon>\r\n            <v-list-item-title class=\"white--text\">Add New</v-list-item-title>\r\n          </v-list-item>\r\n          \r\n        </v-list-item-group>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'AppBar',\r\n\r\n    data: function() {\r\n      return {\r\n        drawer: false\r\n      }\r\n    },\r\n\r\n    created: function() {\r\n      if(!this.$vuetify.breakpoint.mobile) {\r\n        this.drawer = true\r\n      }\r\n    }\r\n\r\n  }\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=1264f080&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VAppBarNavIcon,VIcon,VList,VListItem,VListItemGroup,VListItemIcon,VListItemTitle,VNavigationDrawer,VToolbarTitle})\n","<template>\n  <v-app>\n    <app-bar/>\n    <v-main class=\"grey lighten-3\">\n      <router-view></router-view>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport AppBar from './components/AppBar.vue'\n\nexport default {\n  name: 'App',\n\n  components: {\n    AppBar\n  },\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=8f9a7230&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('div',{staticClass:\"text-h5 ma-2 mb-4\"},[_vm._v(\"Media Library\")]),_c('v-row',{staticClass:\"pa-2 mb-4\"},[_c('v-btn',{staticClass:\"mt-0 ml-2\",class:[{ 'primary--text': _vm.bulkSelect }],attrs:{\"icon\":\"\"},on:{\"click\":_vm.onChangeSelectAll}},[_c('v-icon',[_vm._v(_vm._s(_vm.bulkSelect ? 'mdi-checkbox-marked' : 'mdi-checkbox-blank-outline'))])],1),_c('v-btn',{staticClass:\"mt-0\",attrs:{\"color\":\"error\",\"disabled\":_vm.selected.length === 0,\"icon\":\"\"},on:{\"click\":_vm.deleteSelectedMedia}},[_c('v-icon',[_vm._v(\"mdi-trash-can-outline\")])],1),_c('div',{staticClass:\"selection-box\"},[_c('v-select',{staticClass:\"ml-2\",attrs:{\"items\":_vm.selectOption,\"label\":\"All media items\",\"item-text\":\"name\",\"item-value\":\"value\",\"single-line\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"change\":_vm.onChangeOption},model:{value:(_vm.filter.mime_type),callback:function ($$v) {_vm.$set(_vm.filter, \"mime_type\", $$v)},expression:\"filter.mime_type\"}})],1),_c('v-spacer'),_c('div',{staticClass:\"search-box\"},[_c('v-text-field',{staticClass:\"mr-2\",attrs:{\"label\":\"Search\",\"prepend-inner-icon\":\"mdi-magnify\",\"outlined\":\"\",\"single-line\":\"\",\"dense\":\"\"},on:{\"keydown\":_vm.onChangeSearch},model:{value:(_vm.filter.s),callback:function ($$v) {_vm.$set(_vm.filter, \"s\", $$v)},expression:\"filter.s\"}})],1)],1),_c('grid-view-media',{attrs:{\"medias\":_vm.medias,\"onSelectFile\":_vm.onSelectFile,\"onFileClick\":_vm.onFileClick,\"selected\":_vm.selected,\"loading\":_vm.loading}}),_c('v-row',{staticClass:\"ma-4 d-flex justify-end\"},[_c('v-col',{staticClass:\"d-flex justify-end\",attrs:{\"xs\":\"12\",\"md\":\"6\"}},[_c('v-pagination',{attrs:{\"length\":_vm.medias.count ? Math.ceil(_vm.medias.count / _vm.PAGE_SIZE) : 0},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1),_c('dialog-box',{attrs:{\"dialog\":_vm.dialog,\"setSnackbar\":_vm.setSnackbar,\"media\":_vm.dialogMedia,\"closeDialog\":_vm.closeDialog,\"fetchData\":_vm.fetchData}}),_c('v-snackbar',{attrs:{\"timeout\":2000,\"color\":_vm.snackbar.success ? 'success': 'error',\"top\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar.show = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar.show),callback:function ($$v) {_vm.$set(_vm.snackbar, \"show\", $$v)},expression:\"snackbar.show\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.message)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"no-gutters\":\"\"}},[(_vm.loading)?_c('v-progress-circular',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\"}}):_vm._e(),((_vm.medias.rows && _vm.medias.rows.length === 0 && !_vm.loading) || _vm.medias.length === 0)?_c('div',{staticClass:\"mx-4 text-body-1 font-italic\"},[_vm._v(\" No media available. \")]):_vm._e(),_vm._l((_vm.medias.rows),function(media){return (!_vm.loading)?_c('v-col',{key:media.id,staticClass:\"d-flex child-flex pa-2\",attrs:{\"sm\":\"4\",\"md\":\"3\",\"xl\":\"2\"}},[_c('div',{staticClass:\"cursor\",on:{\"click\":function($event){return _vm.onFileClick(media)}}},[_c('div',{staticClass:\"selection-box\",on:{\"click\":_vm.disablePropagation}},[_c('v-checkbox',{attrs:{\"value\":_vm.selected.includes(media.id)},on:{\"change\":function($event){return _vm.onSelectFile($event, media.id)}}})],1),_c('div',{class:[{'image-container': _vm.selected.includes(media.id) }]},[(media.mime_type.split('/')[0] === 'image')?_c('v-img',{staticClass:\"grey darken-4\",attrs:{\"contain\":\"\",\"src\":_vm.getImageUrl(media),\"lazy-src\":_vm.getImageUrl(media),\"aspect-ratio\":16/10},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1)]},proxy:true}],null,true)}):_vm._e(),(media.mime_type.split('/')[0] === 'video')?_c('v-responsive',{staticClass:\"d-flex text-center align-center grey lighten-2\",attrs:{\"aspect-ratio\":16/10}},[_c('v-icon',{attrs:{\"size\":\"64\"}},[_vm._v(\"mdi-file-video-outline\")])],1):_vm._e(),(!(media.mime_type.split('/')[0] === 'image') && !(media.mime_type.split('/')[0] === 'video'))?_c('v-responsive',{staticClass:\"d-flex text-center align-center grey lighten-2\",attrs:{\"aspect-ratio\":16/10}},[_c('v-icon',{attrs:{\"size\":\"64\"}},[_vm._v(\"mdi-file-outline\")])],1):_vm._e()],1),_c('div',{staticClass:\"media-detail\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(media.name))]),_c('div',{staticClass:\"size\"},[_vm._v(_vm._s(_vm.getFileExtension(media))+\" - \"+_vm._s(_vm.getFileSize(media)))])])])]):_vm._e()})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row no-gutters>\r\n\r\n    <v-progress-circular\r\n      v-if=\"loading\"\r\n      color=\"primary\"\r\n      indeterminate\r\n    ></v-progress-circular>\r\n\r\n    <div \r\n      v-if=\"(medias.rows && medias.rows.length === 0 && !loading) || medias.length === 0\" \r\n      class=\"mx-4 text-body-1 font-italic\"\r\n    >\r\n        No media available.\r\n    </div>\r\n\r\n    <v-col\r\n      v-if=\"!loading\"\r\n      v-for=\"media in medias.rows\"\r\n      :key=\"media.id\"\r\n      class=\"d-flex child-flex pa-2\"\r\n      sm=\"4\"\r\n      md=\"3\"\r\n      xl=\"2\"\r\n    >\r\n      <div class=\"cursor\" @click=\"onFileClick(media)\">\r\n        <div class=\"selection-box\" @click=\"disablePropagation\">\r\n          <v-checkbox :value=\"selected.includes(media.id)\" @change=\"onSelectFile($event, media.id)\"></v-checkbox>\r\n        </div>\r\n        <div :class=\"[{'image-container': selected.includes(media.id) }]\">\r\n          <v-img\r\n            contain\r\n            :src=\"getImageUrl(media)\"\r\n            :lazy-src=\"getImageUrl(media)\"\r\n            :aspect-ratio=\"16/10\"\r\n            class=\"grey darken-4\"\r\n            v-if=\"media.mime_type.split('/')[0] === 'image'\"\r\n          >\r\n            <template v-slot:placeholder>\r\n              <v-row\r\n                class=\"fill-height ma-0\"\r\n                align=\"center\"\r\n                justify=\"center\"\r\n              >\r\n                <v-progress-circular\r\n                  indeterminate\r\n                  color=\"primary\"\r\n                ></v-progress-circular>\r\n              </v-row>\r\n            </template>\r\n          </v-img>\r\n          <v-responsive \r\n            v-if=\"media.mime_type.split('/')[0] === 'video'\"\r\n            :aspect-ratio=\"16/10\"\r\n            class=\"d-flex text-center align-center grey lighten-2\"\r\n          >\r\n            <v-icon size=\"64\">mdi-file-video-outline</v-icon>\r\n          </v-responsive>\r\n\r\n          <v-responsive \r\n            v-if=\"!(media.mime_type.split('/')[0] === 'image') && !(media.mime_type.split('/')[0] === 'video')\"\r\n            :aspect-ratio=\"16/10\"\r\n            class=\"d-flex text-center align-center grey lighten-2\"\r\n          >\r\n            <v-icon size=\"64\">mdi-file-outline</v-icon>\r\n          </v-responsive>\r\n        </div>\r\n        <div class=\"media-detail\">\r\n          <div class=\"name\">{{ media.name }}</div>\r\n          <div class=\"size\">{{ getFileExtension(media) }} - {{ getFileSize(media) }}</div>\r\n        </div>\r\n      </div>\r\n\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'GridViewMedia',\r\n\r\n  props: ['medias', 'onSelectFile', 'onFileClick', 'selected', 'loading'],\r\n\r\n  data: function() {\r\n    return {\r\n    }\r\n  },\r\n  methods: {\r\n    getFileExtension: function(file) {\r\n      const filename = file.name\r\n      const ext = filename.split('.')\r\n      return ext[ext.length - 1]\r\n    },\r\n    getFileSize: function(file) {\r\n      let size = file.size\r\n\r\n      const sizes = ['B', 'KB', 'MB', 'GB']\r\n      let i = 0\r\n\r\n      while(size > 1023 && i < sizes.length) {\r\n        size /= 1024\r\n        i++\r\n      }\r\n\r\n      size = Math.floor(size)\r\n\r\n      return `${size}${sizes[i]}`\r\n    },\r\n    disablePropagation: function(e) {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    },\r\n    getImageUrl: function(media) {\r\n      if(['image/jpeg', 'image/png', 'image/webp'].includes(media.mime_type)) {\r\n        return media.thumb\r\n      }\r\n\r\n      return media.url\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cursor {\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n.selection-box {\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: -1rem;\r\n  left: 0.25rem;\r\n}\r\n.image-container {\r\n  outline: 2px solid #1976d2;\r\n}\r\n.media-detail {\r\n  margin-top: -0.5rem;\r\n}\r\n.media-detail .name {\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  color: #333;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  height: 2rem;\r\n  line-height: 0.8rem;\r\n  padding-top: 1rem;\r\n}\r\n\r\n.media-detail .size {\r\n  font-size: 0.7rem;\r\n  line-height: 0.8rem;\r\n  font-weight: 500;\r\n  color: #777;\r\n  overflow: hidden;\r\n  text-transform: uppercase;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridViewMedia.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridViewMedia.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GridViewMedia.vue?vue&type=template&id=577f8704&scoped=true&\"\nimport script from \"./GridViewMedia.vue?vue&type=script&lang=js&\"\nexport * from \"./GridViewMedia.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GridViewMedia.vue?vue&type=style&index=0&id=577f8704&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"577f8704\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCheckbox,VCol,VIcon,VImg,VProgressCircular,VResponsive,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.media)?_c('v-dialog',{attrs:{\"persistent\":\"\",\"no-click-animation\":\"\",\"width\":\"75%\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-container',{staticClass:\"grey lighten-3\"},[_c('v-row',[_c('v-col',{attrs:{\"sm\":\"6\"}},[_c('div',{staticClass:\"left-content\"},[_c('div',{staticClass:\"icon-group\"},[_c('v-icon',{staticClass:\"red--text text--lighten-2 grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\",attrs:{\"size\":\"16\"},on:{\"click\":function($event){return _vm.deleteMedia(_vm.media.id)}}},[_vm._v(\" mdi-trash-can-outline \")]),_c('v-icon',{staticClass:\"grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\",attrs:{\"size\":\"16\"},on:{\"click\":function($event){return _vm.download(_vm.media.id)}}},[_vm._v(\" mdi-download \")]),_c('v-icon',{staticClass:\"grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\",attrs:{\"size\":\"16\"},on:{\"click\":function($event){return _vm.copytoClipboard(_vm.media)}}},[_vm._v(\" mdi-link-variant \")])],1),(_vm.media.mime_type.split('/')[0] === 'image')?_c('v-img',{staticClass:\"grey darken-4 rounded-sm\",attrs:{\"contain\":\"\",\"src\":_vm.getImageUrl(_vm.media),\"lazy-src\":_vm.getImageUrl(_vm.media),\"aspect-ratio\":1},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1)]},proxy:true}],null,false,3042438443)}):_vm._e(),(_vm.media.mime_type.split('/')[0] === 'video')?_c('v-responsive',{staticClass:\"d-flex text-center align-center grey darken-4 rounded-sm\",attrs:{\"aspect-ratio\":1}},[_c('video',{attrs:{\"width\":\"420\",\"height\":\"auto\",\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.media.url,\"type\":_vm.media.mime_type}}),_vm._v(\" Your browser does not support the video tag. \")])]):_vm._e(),(!(_vm.media.mime_type.split('/')[0] === 'image') && !(_vm.media.mime_type.split('/')[0] === 'video'))?_c('v-responsive',{staticClass:\"d-flex text-center align-center grey lighten-2\",attrs:{\"aspect-ratio\":16/10}},[_c('v-icon',{attrs:{\"size\":\"64\"}},[_vm._v(\"mdi-file-outline\")])],1):_vm._e()],1)]),_c('v-col',{attrs:{\"sm\":\"6\"}},[_c('div',{staticClass:\"right-content py-2\"},[_c('div',{staticClass:\"close-icon\"},[_c('v-icon',{attrs:{\"size\":\"32\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" mdi-close \")])],1),_c('div',{staticClass:\"text-body-2\"},[_c('strong',[_vm._v(\"Uploaded on:\")]),_vm._v(\" \"+_vm._s(_vm.formatDate(_vm.media.uploaded_at))+\" \")]),_c('div',{staticClass:\"text-body-2\"},[_c('strong',[_vm._v(\"File type:\")]),_vm._v(\" \"+_vm._s(_vm.media.mime_type)+\" \")]),_c('div',{staticClass:\"text-body-2\"},[_c('strong',[_vm._v(\"File size:\")]),_vm._v(\" \"+_vm._s(_vm.getFileSize(_vm.media))+\" \")]),(['image/jpeg', 'image/png', 'image/webp'].includes(_vm.media.mime_type))?_c('div',{staticClass:\"text-body-2\"},[_c('strong',[_vm._v(\"Dimensions:\")]),_vm._v(\" \"+_vm._s(_vm.media.dimensions)+\" \")]):_vm._e(),_c('br'),_c('v-text-field',{staticClass:\"mr-4 mb-2\",attrs:{\"label\":\"File name\",\"dense\":\"\",\"outlined\":\"\",\"single-line\":\"\"},model:{value:(_vm.media.name),callback:function ($$v) {_vm.$set(_vm.media, \"name\", $$v)},expression:\"media.name\"}}),(_vm.media.mime_type.split('/')[0] === 'image')?_c('v-text-field',{staticClass:\"mr-4 mb-2\",attrs:{\"label\":\"Alt Text\",\"dense\":\"\",\"outlined\":\"\",\"single-line\":\"\"},model:{value:(_vm.media.alt),callback:function ($$v) {_vm.$set(_vm.media, \"alt\", $$v)},expression:\"media.alt\"}}):_vm._e(),_c('v-text-field',{staticClass:\"mr-4 mb-2\",attrs:{\"label\":\"Description\",\"dense\":\"\",\"outlined\":\"\",\"single-line\":\"\"},model:{value:(_vm.media.description),callback:function ($$v) {_vm.$set(_vm.media, \"description\", $$v)},expression:\"media.description\"}}),_c('v-text-field',{staticClass:\"mr-4 mb-2\",attrs:{\"label\":\"Caption\",\"dense\":\"\",\"outlined\":\"\",\"single-line\":\"\"},model:{value:(_vm.media.caption),callback:function ($$v) {_vm.$set(_vm.media, \"caption\", $$v)},expression:\"media.caption\"}}),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":_vm.saving},on:{\"click\":_vm.updateMedia}},[_vm._v(\"Save\")])],1)])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog\r\n      v-model=\"dialog\"\r\n      persistent\r\n      no-click-animation\r\n      width=\"75%\"\r\n      v-if=\"media\"\r\n    > \r\n        <v-container class=\"grey lighten-3\">\r\n          <v-row>\r\n            <v-col sm=\"6\">\r\n              <div class=\"left-content\">\r\n                <div class=\"icon-group\">\r\n\r\n                  <v-icon \r\n                    @click=\"deleteMedia(media.id)\" \r\n                    size=\"16\" \r\n                    class=\"red--text text--lighten-2 grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\"\r\n                  >\r\n                      mdi-trash-can-outline\r\n                  </v-icon>\r\n\r\n                  <v-icon \r\n                    @click=\"download(media.id)\" \r\n                    size=\"16\" \r\n                    class=\"grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\"\r\n                  >\r\n                    mdi-download\r\n                  </v-icon>\r\n\r\n                  <v-icon \r\n                    @click=\"copytoClipboard(media)\" \r\n                    size=\"16\" \r\n                    class=\"grey lighten-3 pa-2 mr-2 mt-2 rounded-sm\"\r\n                  >\r\n                      mdi-link-variant\r\n                  </v-icon>\r\n\r\n                </div>\r\n                <v-img\r\n                  contain\r\n                  :src=\"getImageUrl(media)\"\r\n                  :lazy-src=\"getImageUrl(media)\"\r\n                  :aspect-ratio=\"1\"\r\n                  class=\"grey darken-4 rounded-sm\"\r\n                  v-if=\"media.mime_type.split('/')[0] === 'image'\"\r\n                >\r\n                  <template v-slot:placeholder>\r\n                    <v-row\r\n                      class=\"fill-height ma-0\"\r\n                      align=\"center\"\r\n                      justify=\"center\"\r\n                    >\r\n                      <v-progress-circular\r\n                        indeterminate\r\n                        color=\"primary\"\r\n                      ></v-progress-circular>\r\n                    </v-row>\r\n                  </template>\r\n                </v-img>\r\n\r\n                <v-responsive \r\n                  v-if=\"media.mime_type.split('/')[0] === 'video'\"\r\n                  :aspect-ratio=\"1\"\r\n                  class=\"d-flex text-center align-center grey darken-4 rounded-sm\"\r\n                >\r\n                  <video width=\"420\" height=\"auto\" controls>\r\n                    <source :src=\"media.url\" :type=\"media.mime_type\">\r\n                  Your browser does not support the video tag.\r\n                  </video>\r\n                </v-responsive>\r\n\r\n                <v-responsive \r\n                  v-if=\"!(media.mime_type.split('/')[0] === 'image') && !(media.mime_type.split('/')[0] === 'video')\"\r\n                  :aspect-ratio=\"16/10\"\r\n                  class=\"d-flex text-center align-center grey lighten-2\"\r\n                >\r\n                  <v-icon size=\"64\">mdi-file-outline</v-icon>\r\n                </v-responsive>\r\n\r\n              </div>\r\n            </v-col>\r\n            <v-col sm=\"6\">\r\n              <div class=\"right-content py-2\">\r\n\r\n                <div class=\"close-icon\">\r\n                  <v-icon \r\n                    size=\"32\" \r\n                    @click=\"closeDialog\"\r\n                  >\r\n                    mdi-close\r\n                  </v-icon>\r\n                </div>\r\n\r\n                <div class=\"text-body-2\">\r\n                  <strong>Uploaded on:</strong> {{ formatDate(media.uploaded_at) }}\r\n                </div>\r\n                <div class=\"text-body-2\">\r\n                  <strong>File type:</strong> {{ media.mime_type }}\r\n                </div>\r\n                <div class=\"text-body-2\">\r\n                  <strong>File size:</strong> {{ getFileSize(media) }}\r\n                </div>\r\n                <div \r\n                  class=\"text-body-2\" \r\n                  v-if=\"['image/jpeg', 'image/png', 'image/webp'].includes(media.mime_type)\"\r\n                >\r\n                  <strong>Dimensions:</strong> {{ media.dimensions }}\r\n                </div>\r\n                <br />\r\n                \r\n                  <v-text-field\r\n                    label=\"File name\"\r\n                    v-model=\"media.name\"\r\n                    dense\r\n                    outlined\r\n                    single-line\r\n                    class=\"mr-4 mb-2\"\r\n                  ></v-text-field>\r\n                  <v-text-field\r\n                    label=\"Alt Text\"\r\n                    v-model=\"media.alt\"\r\n                    dense\r\n                    outlined\r\n                    single-line\r\n                    class=\"mr-4 mb-2\"\r\n                    v-if=\"media.mime_type.split('/')[0] === 'image'\"\r\n                  ></v-text-field>\r\n                  <v-text-field\r\n                    label=\"Description\"\r\n                    v-model=\"media.description\"\r\n                    dense\r\n                    outlined\r\n                    single-line\r\n                    class=\"mr-4 mb-2\"\r\n                  ></v-text-field>\r\n                  <v-text-field\r\n                    label=\"Caption\"\r\n                    v-model=\"media.caption\"\r\n                    dense\r\n                    outlined\r\n                    single-line\r\n                    class=\"mr-4 mb-2\"\r\n                  ></v-text-field>\r\n                  <v-btn color=\"primary\" @click=\"updateMedia\" :disabled=\"saving\">Save</v-btn>\r\n\r\n\r\n              </div>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n\tname: 'DialogBox',\r\n\tprops: ['dialog', 'setSnackbar', 'media', 'closeDialog', 'fetchData'],\r\n\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tsaving: false,\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tcopytoClipboard: function(media) {\r\n\r\n\t\t\tlet text = ''\r\n\r\n\t\t\tif(['image/jpeg', 'image/png', 'image/webp'].includes(media.mime_type)) {\r\n\t\t\t\ttext = `${media.url}?imid=${media.id}`\r\n\t\t\t}else{\r\n\t\t\t\ttext = media.url\r\n\t\t\t}\r\n\r\n      const textArea = document.createElement(\"textarea\")\r\n      textArea.textContent = text\r\n      document.body.appendChild(textArea)\r\n\r\n      const selection = document.getSelection()\r\n      const range = document.createRange()\r\n\r\n      range.selectNode(textArea)\r\n      selection.removeAllRanges()\r\n      selection.addRange(range)\r\n      const copied = document.execCommand('copy')\r\n      selection.removeAllRanges()\r\n      document.body.removeChild(textArea)\r\n\r\n      if(copied) {\r\n        this.setSnackbar({\r\n          show: true,\r\n          message: 'Copied url to clipboard.',\r\n          success: true,\r\n        })\r\n      }\r\n\r\n  \t},\r\n  \tupdateMedia: function() {\r\n      this.saving = true\r\n      axios.put(`/api/medias`, {\r\n          headers: { 'Content-Type': 'application/json' },\r\n          data: this.media\r\n      })\r\n      .then((data) => {\r\n        this.setSnackbar({\r\n          show: true,\r\n          message: 'Successfully updated.',\r\n          success: true,\r\n        })\r\n        this.saving = false\r\n        this.fetchData()\r\n      })\r\n      .catch(err => {\r\n        this.setSnackbar({\r\n          show: true,\r\n          message: 'Something went wrong.',\r\n          success: false,\r\n        })\r\n        this.saving = false\r\n      })\r\n    },\r\n    deleteMedia: function(id) {\r\n\r\n      if(confirm('Are you sure want to delete this file?')) {\r\n        axios.delete(`/api/medias/${id}`)\r\n        .then((data) => {\r\n          this.closeDialog()\r\n          this.fetchData()\r\n        })\r\n        .catch(err => {\r\n          this.setSnackbar({\r\n            show: true,\r\n            message: 'Something went wrong.',\r\n            success: false,\r\n          })\r\n        })\r\n      }\r\n    },\r\n    getImageUrl: function(media) {\r\n    \tif(['image/jpeg', 'image/png', 'image/webp'].includes(media.mime_type)) {\r\n    \t\treturn media.small\r\n    \t}\r\n\r\n    \treturn media.url\r\n    },\r\n  \tgetFileSize: function(file) {\r\n      let size = file.size\r\n\r\n      const sizes = ['B', 'KB', 'MB', 'GB']\r\n      let i = 0\r\n\r\n      while(size > 1023 && i < sizes.length) {\r\n        size /= 1024\r\n        i++\r\n      }\r\n\r\n      size = Math.floor(size)\r\n\r\n      return `${size}${sizes[i]}`\r\n    },\r\n    formatDate: function(dateString) {\r\n      const date = new Date(dateString)\r\n      return date.toDateString()\r\n    },\r\n    download: function(id) {\r\n      window.open(`/api/medias/downloads/${id}`)\r\n    },\r\n\t}\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogBox.vue?vue&type=template&id=efdea2ca&\"\nimport script from \"./DialogBox.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VDialog,VIcon,VImg,VProgressCircular,VResponsive,VRow,VTextField})\n","<template>\n  <v-container>\n    <div class=\"text-h5 ma-2 mb-4\">Media Library</div>\n\n    <v-row class=\"pa-2 mb-4\">\n        <v-btn \n          :class=\"[{ 'primary--text': bulkSelect }]\" \n          @click=\"onChangeSelectAll\"\n          class=\"mt-0 ml-2\"\n          icon\n        >\n          <v-icon>{{ bulkSelect ? 'mdi-checkbox-marked' : 'mdi-checkbox-blank-outline' }}</v-icon>\n        </v-btn>\n\n        <v-btn \n          color=\"error\" \n          @click=\"deleteSelectedMedia\"\n          class=\"mt-0\"\n          :disabled=\"selected.length === 0\"\n          icon\n        >\n          <v-icon>mdi-trash-can-outline</v-icon>\n        </v-btn>\n        <div class=\"selection-box\">\n          <v-select\n              :items=\"selectOption\"\n              label=\"All media items\"\n              item-text=\"name\"\n              item-value=\"value\"\n              single-line\n              outlined\n              dense\n              class=\"ml-2\"\n              v-model=\"filter.mime_type\"\n              @change=\"onChangeOption\"\n            ></v-select>\n        </div>\n\n        <v-spacer></v-spacer>\n\n        <div class=\"search-box\">\n          <v-text-field \n            @keydown=\"onChangeSearch\" \n            v-model=\"filter.s\" \n            class=\"mr-2\" \n            label=\"Search\" \n            prepend-inner-icon=\"mdi-magnify\" \n            outlined single-line dense\n          >\n              \n            </v-text-field>\n        </div>\n\n      </v-row>\n\n      <grid-view-media \n        :medias=\"medias\" \n        :onSelectFile=\"onSelectFile\" \n        :onFileClick=\"onFileClick\"\n        :selected=\"selected\"\n        :loading=\"loading\"\n      />\n\n        <v-row class=\"ma-4 d-flex justify-end\">\n          <v-col xs=\"12\" md=\"6\" class=\"d-flex justify-end\">\n            <v-pagination\n              v-model=\"page\"\n              :length=\"medias.count ? Math.ceil(medias.count / PAGE_SIZE) : 0\"\n            ></v-pagination>\n          </v-col>\n        </v-row>\n        \n        <dialog-box\n          :dialog=\"dialog\"\n          :setSnackbar=\"setSnackbar\"\n          :media=\"dialogMedia\"\n          :closeDialog=\"closeDialog\"\n          :fetchData=\"fetchData\"\n         />\n        <v-snackbar\n          v-model=\"snackbar.show\"\n          :timeout=\"2000\"\n          :color=\"snackbar.success ? 'success': 'error'\"\n          top\n        >\n          {{ snackbar.message }}\n\n          <template v-slot:action=\"{ attrs }\">\n            <v-btn\n              text\n              v-bind=\"attrs\"\n              @click=\"snackbar.show = false\"\n            >\n              Close\n            </v-btn>\n          </template>\n        </v-snackbar>\n    </v-container>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios'\nimport GridViewMedia from '../components/GridViewMedia.vue'\nimport DialogBox from '../components/DialogBox.vue'\n\nimport { PAGE_SIZE } from '../../../config'\n\nexport default {\n  name: 'MediaPage',\n\n  components: {\n    GridViewMedia,\n    DialogBox\n  },\n\n  data: function() {\n    return {\n      selectOption: [\n        { name: 'All media items', value:'' },\n        { name: 'Images', value: 'image' }, \n        { name: 'Video', value: 'video'}\n      ],\n\n      filter: {\n        s: '',\n        mime_type: ''\n      },\n\n      page: 1,\n      PAGE_SIZE: [],\n\n      medias: [],\n\n      bulkSelect: false,\n      selected: [],\n\n      dialog: false,\n      loading: false,\n      dialogMedia: null,\n\n      snackbar: {\n        show: false,\n        message: '',\n        success: false\n      },\n    }\n  },\n\n  methods: {\n    onChangeOption: function() {\n      this.page = 1\n      this.fetchData()\n    },\n    onChangeSearch: function() {\n      clearTimeout(this.timeout)\n      this.timeout = setTimeout(() => { \n        this.page = 1\n        this.fetchData() \n      }, 500)\n    },\n    fetchData: function() {\n      this.loading = true\n      let range = [(this.page - 1) *  this.PAGE_SIZE, (this.page - 1) *  this.PAGE_SIZE + this.PAGE_SIZE - 1]\n      range = JSON.stringify(range)\n\n      const filter = JSON.stringify(this.filter)\n      const query = `filter=${filter}&range=${range}`\n\n      axios.get(`/api/medias?${query}`)\n      .then(({ data }) => {\n        this.loading = false\n        this.medias = data\n        this.bulkSelect = false\n        this.selected = []\n      })\n      .catch(err => { \n        this.loading = false \n        this.snackbar = {\n          show: true,\n          message: 'Could not fetch data.',\n          success: false,\n        }\n      })\n    },\n    onSelectFile: function(value, id) {\n      if(value) {\n        this.selected.push(id)\n      }else{\n        this.selected = this.selected.filter(mediaId => mediaId !== id)\n      }\n\n      if(this.selected.length === this.medias.length) {\n        this.bulkSelect = true\n      }else{\n        this.bulkSelect = false\n      }\n    },\n    onChangeSelectAll: function() {\n      if(this.medias.rows.length ===0) {\n        return\n      }\n\n      if(this.bulkSelect) {\n        this.selected = []\n        this.bulkSelect = false\n      }else{\n        this.selected = this.medias.rows.map(media => media.id)\n        this.bulkSelect = true\n      }\n    },\n    onFileClick: function(file) {\n      this.dialogMedia = file\n      this.dialog = true\n    },\n    closeDialog: function() {\n      this.dialog = false\n      this.dialogMedia = null\n    },\n      deleteSelectedMedia: function() {\n        if(this.selected.length === 0) return\n\n        const ids = JSON.stringify(this.selected)\n        if(confirm(`Are you sure want to delete this ${this.selected.length} files?`)) {\n          axios.delete(`/api/medias?ids=${ids}`)\n          .then((data) => {\n\n            this.snackbar = {\n              show: true,\n              message: `Successfully deleted ${this.selected.length} files.`,\n              success: true,\n            }\n\n            this.medias = { ...this.medias, rows: this.medias.rows.filter(media => !this.selected.includes(media.id)) }\n            this.selected = []\n            this.bulkSelect = false\n\n            if((this.selected.length === this.medias.length) && this.page > 1) {\n              this.page = this.page - 1\n            }\n\n            this.fetchData()\n            \n          })\n          .catch(err => {\n            this.snackbar = {\n              show: true,\n              message: 'Something went wrong.',\n              success: false,\n            }\n          })\n        }\n      },\n      setSnackbar: function(value) {\n        this.snackbar = value\n      },\n  },\n\n  created: function() {\n    this.PAGE_SIZE = PAGE_SIZE\n    this.fetchData()\n  },\n\n  watch: {\n    page: function() {\n      this.fetchData()\n    }\n  }\n}\n</script>\n\n<style>\n.v-text-field.v-text-field--enclosed .v-text-field__details, \n.v-text-field.v-text-field--enclosed > .v-input__control > .v-input__slot {\n  margin: 0;\n  max-height: 2rem;\n  min-height: 2rem !important;\n display: flex !important;\n align-items: center!important;\n}\n\n.v-text-field.v-text-field--enclosed .v-text-field__details {\n  height: 0 !important;\n  display: none !important;\n}\n\n.v-text-field--outlined.v-input--dense .v-label {\n  top: 0.5rem !important;\n}\n\n.theme--light.v-messages {\n  display: none;\n}\n.v-input__icon {\n  width: 1.25rem;\n  height: 1.25rem;\n}\n.selection-box .v-input__slot {\n  width: 10rem;\n}\n.right-content, .left-content {\n  position: relative;\n}\n.icon-group {\n  position: absolute;\n  z-index: 4;\n  top: 0;\n  right: 0;\n}\n.icon-group .icon {\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n}\n.close-icon {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MediaPage.vue?vue&type=template&id=6064ee31&\"\nimport script from \"./MediaPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MediaPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VIcon,VPagination,VRow,VSelect,VSnackbar,VSpacer,VTextField})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport MediaPage from '../views/MediaPage.vue'\nimport UploadPage from '../views/UploadPage.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'MediaPage',\n    component: MediaPage\n  },\n  {\n    path: '/uploads',\n    name: 'UploadPage',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/UploadPage.vue')\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport vuetify from './plugins/vuetify';\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropZone.vue?vue&type=style&index=0&id=ba57bd70&scoped=true&lang=css&\"","module.exports = {\r\n\tMAX_FILE_SIZE: 40, // value in MB\r\n\tPAGE_SIZE: 10,\r\n\tMIME_TYPES: [\r\n\t\t'image/jpeg',\r\n\t\t'image/png',\r\n\t\t'image/gif',\r\n\t\t'image/webp',\r\n\r\n\t\t'video/mp4',\r\n\t\t'video/webm'\r\n\t]\r\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaPage.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}